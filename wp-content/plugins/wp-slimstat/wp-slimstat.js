var SlimStat={_id:"-1.0",_base64_key_str:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_plugins:{acrobat:{substrings:["Adobe","Acrobat"],active_x_strings:["AcroPDF.PDF","PDF.PDFCtrl.5"]},director:{substrings:["Shockwave","Director"],active_x_strings:["SWCtl.SWCtl"]},flash:{substrings:["Shockwave","Flash"],active_x_strings:["ShockwaveFlash.ShockwaveFlash"]},mediaplayer:{substrings:["Windows Media"],active_x_strings:["WMPlayer.OCX"]},quicktime:{substrings:["QuickTime"],active_x_strings:["QuickTime.QuickTime"]},real:{substrings:["RealPlayer"],active_x_strings:["rmocx.RealPlayer G2 Control","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)"]},silverlight:{substrings:["Silverlight"],active_x_strings:["AgControl.AgControl"]}},_base64_encode:function(e){var t,n,r,i,s,o,u,a="",f=0;e=SlimStat._utf8_encode(e);while(f<e.length){t=e.charCodeAt(f++);n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=t>>2;s=(t&3)<<4|n>>4;o=(n&15)<<2|r>>6;u=r&63;if(isNaN(n)){o=u=64}else if(isNaN(r)){u=64}a=a+SlimStat._base64_key_str.charAt(i)+SlimStat._base64_key_str.charAt(s)+SlimStat._base64_key_str.charAt(o)+this._base64_key_str.charAt(u)}return a},_utf8_encode:function(e){var t,n,r="";e=e.replace(/\r\n/g,"\n");for(t=0;t<e.length;t++){n=e.charCodeAt(t);if(n<128){r+=String.fromCharCode(n)}else if(n>127&&n<2048){r+=String.fromCharCode(n>>6|192);r+=String.fromCharCode(n&63|128)}else{r+=String.fromCharCode(n>>12|224);r+=String.fromCharCode(n>>6&63|128);r+=String.fromCharCode(n&63|128)}}return r},_detect_single_plugin_not_ie:function(e){var t,n,r,i,s;for(i in navigator.plugins){n=""+navigator.plugins[i].name+navigator.plugins[i].description;r=0;for(s in SlimStat._plugins[e].substrings){if(n.indexOf(SlimStat._plugins[e].substrings[s])!=-1){r++}}if(r==SlimStat._plugins[e].substrings.length){return true}}return false},_detect_single_plugin_ie:function(e){var t;for(t in SlimStat._plugins[e].active_x_strings){try{new ActiveXObject(SlimStat._plugins[e].active_x_strings[t]);return true}catch(n){return false}}},_detect_single_plugin:function(e){if(navigator.plugins.length){this.detect=this._detect_single_plugin_not_ie}else{this.detect=this._detect_single_plugin_ie}return this.detect(e)},detect_plugins:function(){var e,t="";for(e in SlimStat._plugins){if(SlimStat._detect_single_plugin(e)){t+=e+"|"}}return t},has_smoothing:function(){if(typeof screen.fontSmoothingEnabled!="undefined"){return Number(screen.fontSmoothingEnabled)}else{if(typeof SlimStatParams.detect_smoothing!="undefined")return 0;try{var e=document.createElement("canvas");e.width="35";e.height="35";e.style.display="none";document.body.appendChild(e);var t=e.getContext("2d");t.textBaseline="top";t.font="32px Arial";t.fillStyle="black";t.strokeStyle="black";t.fillText("O",0,0);for(var n=8;n<=32;n++){for(var r=1;r<=32;r++){var i=t.getImageData(r,n,1,1).data;var s=i[3];if(s!=255&&s!=0)return 1}}return 0}catch(o){return 0}}},get_page_performance:function(){slim_performance=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(typeof slim_performance.timing=="undefined"){return 0}return slim_performance.timing.loadEventEnd-slim_performance.timing.responseEnd},get_server_latency:function(){slim_performance=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{};if(typeof slim_performance.timing=="undefined"){return 0}return slim_performance.timing.responseEnd-slim_performance.timing.connectEnd},send_to_server:function(e,t){if(typeof SlimStatParams.ajaxurl=="undefined"||typeof e=="undefined"){return false}try{if(window.XMLHttpRequest){request=new XMLHttpRequest}else if(window.ActiveXObject){request=new ActiveXObject("Microsoft.XMLHTTP")}}catch(n){return false}if(request){var r="action=slimtrack_js&data="+SlimStat._base64_encode(e);request.open("POST",SlimStatParams.ajaxurl,true);request.setRequestHeader("Content-type","application/x-www-form-urlencoded");request.send(r);request.onreadystatechange=function(){if(request.readyState==4){if(typeof SlimStatParams.id=="undefined"){parsed_id=parseInt(request.responseText);if(!isNaN(parsed_id)&&parsed_id>0){SlimStat._id=request.responseText}}else{SlimStat._id=SlimStatParams.id}if(typeof t=="function"){t()}}};return true}return false},ss_track:function(e,t,n,r){parsed_id=parseInt(SlimStat._id);if(isNaN(parsed_id)||parsed_id<=0)return true;if(typeof e=="undefined")var e=window.event;var i=typeof t=="undefined"?0:parseInt(t);var s=[];var o=typeof e.target!="undefined"?e.target:typeof e.srcElement!="undefined"?e.srcElement:false;if(!o)return false;if(o.nodeType==3)o=o.parentNode;var u=o.parentNode;var a="";var f=location.pathname;var l="";switch(o.nodeName){case"FORM":if(o.action.length>0)f=escape(o.action);break;case"INPUT":while(typeof u!="undefined"&&u.nodeName!="FORM"&&u.nodeName!="BODY")u=u.parentNode;if(typeof u.action!="undefined"&&u.action.length>0){f=escape(u.action);break};default:if(o.nodeName!="A"){if(typeof o.getAttribute=="function"&&o.getAttribute("id")!="undefined"&&o.getAttribute("id")!=null&&o.getAttribute("id").length>0){f=o.getAttribute("id");break}while(typeof o.parentNode!="undefined"&&o.parentNode!=null&&o.nodeName!="A"&&o.nodeName!="BODY")o=o.parentNode}if(typeof o.hash!="undefined"&&o.hash.length>0&&o.hostname==location.hostname){f=escape(o.hash)}else{a=typeof o.hostname!="undefined"?o.hostname:"";if(typeof o.href!="undefined"){f=escape(o.href)}}if(typeof o.getAttribute=="function"){if(o.getAttribute("title")!="undefined"&&o.getAttribute("title")!=null&&o.getAttribute("title").length>0)s.push("Title:"+o.getAttribute("title"));if(o.getAttribute("id")!="undefined"&&o.getAttribute("id")!=null&&o.getAttribute("id").length>0)s.push("ID:"+o.getAttribute("id"))}}l="&obd="+a+"&obr="+f;var c=-1;var h=-1;if(typeof e.pageX!="undefined"&&typeof e.pageY!="undefined"){c=e.pageX;h=e.pageY}else if(typeof e.clientX!="undefined"&&typeof e.clientY!="undefined"&&typeof document.body.scrollLeft!="undefined"&&typeof document.documentElement.scrollLeft!="undefined"&&typeof document.body.scrollTop!="undefined"&&typeof document.documentElement.scrollTop!="undefined"){c=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;h=e.clientY+document.body.scrollTop+document.documentElement.scrollTop}if(c>0&&h>0)l+=(l.length>0?"&":"?")+"po="+c+","+h;s.push("Event:"+e.type);if(typeof n!="undefined"&&n.length>0)s.push(n);if(e.type!="click"&&typeof e.which!="undefined"){if(e.type=="keypress")s.push("Key:"+String.fromCharCode(parseInt(e.which)));else s.push("Type:"+e.which)}SlimStat.send_to_server("id="+SlimStat._id+"&ty="+i+l+"&no="+escape(s.join(", ")),r);return true},slimstat_plusone:function(e){SlimStat.send_to_server("ty=4&obr="+escape("#google-plus-"+e.state))},in_array:function(e,t){for(var n=0;n<t.length;n++){if(t[n]==e)return true}return false}};if(typeof SlimStatParams.disable_outbound_tracking=="undefined"){var links_in_this_page=document.getElementsByTagName("a");var extensions_to_track=typeof SlimStatParams.extensions_to_track!="undefined"&&SlimStatParams.extensions_to_track.length>0?SlimStatParams.extensions_to_track.split(","):[];var type;var track_extension;for(var i=0;i<links_in_this_page.length;i++){track_extension=false;type=0;if(extensions_to_track.length>0&&links_in_this_page[i].pathname.indexOf(".")>0&&links_in_this_page[i].hostname==location.hostname){extension_current_link=links_in_this_page[i].pathname.split(".").pop().replace(/[\/\-]/g,"");track_extension=SlimStat.in_array(extension_current_link,extensions_to_track);type=1}if(!track_extension&&(links_in_this_page[i].hostname==location.hostname||links_in_this_page[i].href.indexOf("://")==-1||links_in_this_page[i].className.indexOf("noslimstat")!=-1)){continue}links_in_this_page[i].slimstat_emulate_click=false;if(links_in_this_page[i].addEventListener){links_in_this_page[i].addEventListener("click",function(e,t){return function(){if(!this.slimstat_emulate_click){if(SlimStat.in_array(this.target,["_self",""])){this.slimstat_emulate_click=true;if(typeof event.preventDefault=="function"){event.preventDefault()}else{event.returnValue=false}SlimStat.ss_track(event,t,"A:"+(e+1),function(){links_in_this_page[e].click()})}else{SlimStat.ss_track(event,t,"A:"+(e+1))}}else{this.slimstat_emulate_click=false}}}(i,type),false)}else if(links_in_this_page[i].attachEvent){links_in_this_page[i].attachEvent("click",function(e,t){return function(){if(!this.slimstat_emulate_click){if(SlimStat.in_array(this.target,["_self",""])){this.slimstat_emulate_click=true;if(typeof event.preventDefault=="function"){event.preventDefault()}else{event.returnValue=false}SlimStat.ss_track(event,t,"A:"+(e+1),function(){links_in_this_page[e].click()})}else{SlimStat.ss_track(event,t,"A:"+(e+1))}}else{this.slimstat_emulate_click=false}}}(i,type))}}}var current_data="";if(typeof SlimStatParams.id!="undefined"&&parseInt(SlimStatParams.id)>0){current_data="id="+SlimStatParams.id}else if(typeof SlimStatParams.ci!="undefined"){current_data="ci="+SlimStatParams.ci+"&ref="+SlimStat._base64_encode(document.referrer)+"&res="+SlimStat._base64_encode(window.location.href)}if(current_data.length){window.onload=function(){setTimeout(function(){SlimStat.send_to_server(current_data+"&sw="+(screen.width||window.innerWidth||document.documentElement.clientWidth||document.body.offsetWidth)+"&sh="+(screen.height||window.innerHeight||document.documentElement.clientHeight||document.body.offsetHeight)+"&cd="+screen.colorDepth+"&aa="+SlimStat.has_smoothing()+"&sl="+SlimStat.get_server_latency()+"&pp="+SlimStat.get_page_performance()+"&pl="+SlimStat.detect_plugins())},0)}}